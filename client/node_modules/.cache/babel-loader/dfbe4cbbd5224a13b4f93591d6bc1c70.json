{"ast":null,"code":"var _jsxFileName = \"/Users/Jesse/project/my-app/src/containers/Discussion.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Image } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css'; //import axios from 'axios';\n\nimport '../style/web.css';\n\nclass Discussion extends Component {\n  constructor(props) {\n    super(props); //this.isLogi = this.isLogin.bind(this);\n    // this.isLogin2 = this.isLogin2.bind(this);\n    //this.logout = this.logout.bind(this);\n    //this.changeContent = this.changeContent.bind(this);\n\n    this.state = {\n      username: ''\n    };\n    const IMAGE_MIN_WIDTH = 1280; // 上传图片最小宽\n\n    const IMAGE_MIN_HEIGHT = 800; // 上传图片最小高\n\n    const IMAGE_MAX_SIZE = 1024 * 1024; // 上传图片最大大小\n  }\n\n  render() {\n    const imagePreview = React.createElement(\"div\", {\n      styleName: \"image-background-preview\",\n      style: {\n        backgroundImage: \"url(\".concat(imageUrl, \")\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      styleName: \"preview-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      styleName: \"preview-image-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      title: \"\\u9884\\u89C8\\u56FE\\u7247\",\n      href: \"javascript:;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"eye\",\n      styleName: \"icon-btn\",\n      onClick: this.handlePreview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      title: \"\\u5220\\u9664\\u56FE\\u7247\",\n      href: \"javascript:;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"delete\",\n      styleName: \"icon-btn\",\n      onClick: this.swapImageFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Home/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Home\"))), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Honorroll/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Honor roll\")))), React.createElement(\"div\", {\n      class: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Image, {\n      rounded: true,\n      src: require('../img/zx.jpeg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Comment/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Reply\")), React.createElement(Link, {\n      to: \"/Praise/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Praise\")))), React.createElement(\"div\", {\n      class: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Image, {\n      rounded: true,\n      src: require('../img/zc.jpeg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Comment/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Reply\")), React.createElement(Link, {\n      to: \"/Praise/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Praise\")))), React.createElement(\"div\", {\n      class: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Image, {\n      rounded: true,\n      src: require('../img/ww.jpeg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Comment/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Reply\")), React.createElement(Link, {\n      to: \"/Praise/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Praise\")))), React.createElement(\"div\", {\n      class: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Image, {\n      rounded: true,\n      src: require('../img/qq.jpeg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Comment/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Reply\")), React.createElement(Link, {\n      to: \"/Praise/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Praise\")))), React.createElement(\"div\", {\n      class: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"photo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Image, {\n      rounded: true,\n      src: require('../img/ss.jpeg'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Comment/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Reply\")), React.createElement(Link, {\n      to: \"/Praise/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"introa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Praise\")))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      id: \"file\",\n      accept: \"image/jpeg, image/gif, image/png, image/bmp\",\n      styleName: \"input-file\",\n      onChange: e => {\n        this.onFileChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"file\",\n      styleName: \"ant-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      styleName: \"upload-plus-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\\u7167\\u7247\")))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      id: imageUrl ? '' : 'file',\n      accept: \"image/jpeg, image/gif, image/png, image/bmp\",\n      styleName: \"input-file\",\n      onChange: e => {\n        this.onFileChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"file\",\n      styleName: \"ant-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, imageUrl ? imagePreview : uploadButton)), React.createElement(Modal, {\n      visible: showPreviewModal,\n      title: \"\\u56FE\\u7247\\u9884\\u89C8\",\n      footer: null,\n      width: 700,\n      onCancel: this.handlePreviewCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      style: {\n        width: '100%'\n      },\n      src: imageUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })));\n  }\n\n  onFileChange(e) {\n    const file = e.target.files[0];\n    e.target.value = ''; // 再次上传同一文件进行裁剪\n\n    if (this.handleBeforeUpload(file)) {\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        const src = e.target.result;\n        const image = new Image();\n\n        const _this = this;\n\n        image.onload = () => {\n          const width = image.width;\n          const height = image.height;\n\n          if (width >= IMAGE_MIN_WIDTH && height >= IMAGE_MIN_HEIGHT) {\n            _this.setState({\n              initialImageUrl: src,\n              showCropModal: true\n            });\n          } else {\n            message.error('照片分辨率小于1280*800');\n          }\n        };\n\n        image.src = src;\n      };\n\n      reader.readAsDataURL(file);\n    }\n  } // 检查照片格式、大小等信息\n\n\n  handleBeforeUpload(file) {\n    if (file) {\n      const sizeOk = file.size < IMAGE_MAX_SIZE;\n      const typeReg = new RegExp(/^image\\/bmp|gif|jpg|jpeg|png$/, 'i');\n      const typeOk = typeReg.test(file.type);\n\n      if (!typeOk) {\n        message.error('照片格式有误');\n      } else if (!sizeOk) {\n        message.error('照片大小超过1M');\n      }\n\n      return sizeOk && typeOk;\n    }\n  }\n\n  handlePreview() {\n    this.setState({\n      showPreviewModal: true\n    });\n  } // 删除图片\n\n\n  swapImageFile() {\n    this.setState({\n      imageUrl: ''\n    });\n  }\n\n}\n\nexport default Discussion;","map":{"version":3,"sources":["/Users/Jesse/project/my-app/src/containers/Discussion.js"],"names":["React","Component","Link","Menu","Image","Discussion","constructor","props","state","username","IMAGE_MIN_WIDTH","IMAGE_MIN_HEIGHT","IMAGE_MAX_SIZE","render","imagePreview","backgroundImage","imageUrl","handlePreview","swapImageFile","color","require","e","onFileChange","uploadButton","showPreviewModal","handlePreviewCancel","width","file","target","files","value","handleBeforeUpload","reader","FileReader","onload","src","result","image","_this","height","setState","initialImageUrl","showCropModal","message","error","readAsDataURL","sizeOk","size","typeReg","RegExp","typeOk","test","type"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport {Menu, Image } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\n//import axios from 'axios';\nimport '../style/web.css';\n\nclass Discussion extends Component{\n    constructor(props) {\n        super(props);\n        //this.isLogi = this.isLogin.bind(this);\n       // this.isLogin2 = this.isLogin2.bind(this);\n        //this.logout = this.logout.bind(this);\n       //this.changeContent = this.changeContent.bind(this);\n        this.state = { \n            username: ''\n         };\n     const IMAGE_MIN_WIDTH = 1280; // 上传图片最小宽\n     const IMAGE_MIN_HEIGHT = 800; // 上传图片最小高\n     const IMAGE_MAX_SIZE = 1024 * 1024; // 上传图片最大大小\n    }\n\n    \n    \n    render(){\n        const imagePreview = (\n            <div\n              styleName=\"image-background-preview\"\n              style={{ backgroundImage: `url(${imageUrl})` }}>\n              <div styleName=\"preview-image\">\n                <span styleName=\"preview-image-btn\">\n                  <a title=\"预览图片\" href=\"javascript:;\">\n                    <Icon\n                      type=\"eye\"\n                      styleName=\"icon-btn\"\n                      onClick={this.handlePreview}\n                    />\n                  </a>\n                  <a title=\"删除图片\" href=\"javascript:;\">\n                    <Icon\n                      type=\"delete\"\n                      styleName=\"icon-btn\"\n                      onClick={this.swapImageFile}\n                    />\n                  </a>\n                </span>\n              </div>\n            </div>\n          );\n        return (\n            <div>  \n            <Menu>\n            <Menu.Item>\n                <Link to=\"/Home/\" style={{color:'black'}}>\n                    <div>Home</div>\n                </Link>\n            </Menu.Item>\n            <Menu.Item>\n                <Link to=\"/Honorroll/\" style={{color:'black'}}>\n                    <div>Honor roll</div>\n                </Link>\n            </Menu.Item>\n            {/* <Menu.Item>\n                {this.changeContent()}\n            </Menu.Item> */}\n            </Menu>\n\n            <div class=\"show\">\n                <div class=\"photo\">\n                <Image   rounded src={require('../img/zx.jpeg')}/>\n                </div>\n                <div class=\"intro\">\n                  <Link to=\"/Comment/\" style={{color:'black'}}>\n                      <div class=\"introa\">Reply</div>\n                  </Link>\n                  <Link to=\"/Praise/\" style={{color:'black'}}>\n                  <div class=\"introa\">Praise</div>\n                  </Link>\n                  </div>\n            \n            </div>\n\n            <div class=\"show\">\n                <div class=\"photo\">\n                <Image   rounded src={require('../img/zc.jpeg')}/>\n                </div>\n                <div class=\"intro\">\n                  <Link to=\"/Comment/\" style={{color:'black'}}>\n                      <div class=\"introa\">Reply</div>\n                  </Link>\n                  <Link to=\"/Praise/\" style={{color:'black'}}>\n                  <div class=\"introa\">Praise</div>\n                  </Link>\n                  </div>\n            \n            </div>\n\n            <div class=\"show\">\n                <div class=\"photo\">\n                <Image   rounded src={require('../img/ww.jpeg')}/>\n                </div>\n                <div class=\"intro\">\n                  <Link to=\"/Comment/\" style={{color:'black'}}>\n                      <div class=\"introa\">Reply</div>\n                  </Link>\n                  <Link to=\"/Praise/\" style={{color:'black'}}>\n                  <div class=\"introa\">Praise</div>\n                  </Link>\n                  </div>\n            \n            </div>\n\n            <div class=\"show\">\n                <div class=\"photo\">\n                <Image   rounded src={require('../img/qq.jpeg')}/>\n                </div>\n                <div class=\"intro\">\n                  <Link to=\"/Comment/\" style={{color:'black'}}>\n                      <div class=\"introa\">Reply</div>\n                  </Link>\n                  <Link to=\"/Praise/\" style={{color:'black'}}>\n                  <div class=\"introa\">Praise</div>\n                  </Link>\n                  </div>\n            \n            </div>\n\n            <div class=\"show\">\n                <div class=\"photo\">\n                <Image   rounded src={require('../img/ss.jpeg')}/>\n                </div>\n                <div class=\"intro\">\n                  <Link to=\"/Comment/\" style={{color:'black'}}>\n                      <div class=\"introa\">Reply</div>\n                  </Link>\n                  <Link to=\"/Praise/\" style={{color:'black'}}>\n                  <div class=\"introa\">Praise</div>\n                  </Link>\n                  </div>\n            \n            </div>\n\n            <div>\n            <input\n  type=\"file\"\n  id='file'\n  accept=\"image/jpeg, image/gif, image/png, image/bmp\"\n  styleName=\"input-file\"\n  onChange={e => {\n    this.onFileChange(e);\n  }}\n/>\n    <label htmlFor=\"file\" styleName=\"ant-upload\">  \n     <div styleName=\"upload-plus-text\">\n        <Icon type=\"plus\" />\n        <div className=\"ant-upload-text\">上传照片</div>\n      </div>\n    </label>\n</div>\n    \n<div>\n    <input\n      type=\"file\"\n      id={imageUrl ? '' : 'file'}\n      accept=\"image/jpeg, image/gif, image/png, image/bmp\"\n      styleName=\"input-file\"\n      onChange={e => {\n        this.onFileChange(e);\n      }}\n    />\n    <label htmlFor=\"file\" styleName=\"ant-upload\">\n      {imageUrl ? imagePreview : uploadButton}\n    </label>\n</div>\n<Modal\n  visible={showPreviewModal}\n  title=\"图片预览\"\n  footer={null}\n  width={700}\n  onCancel={this.handlePreviewCancel}>\n  <img alt=\"\" style={{ width: '100%' }} src={imageUrl} />\n</Modal>\n                   \n        </div>\n    \n    \n        )\n      }\n    \n      onFileChange(e) {\n        const file = e.target.files[0];\n        e.target.value = ''; // 再次上传同一文件进行裁剪\n        if (this.handleBeforeUpload(file)) {\n          const reader = new FileReader();\n          reader.onload = e => {\n            const src = e.target.result;\n            const image = new Image();\n            const _this = this;\n            image.onload = () => {\n              const width = image.width;\n              const height = image.height;\n              if (width >= IMAGE_MIN_WIDTH && height >= IMAGE_MIN_HEIGHT) {\n                _this.setState({\n                  initialImageUrl: src,\n                  showCropModal: true\n                });\n              } else {\n                message.error('照片分辨率小于1280*800');\n              }\n            };\n            image.src = src;\n          };\n          reader.readAsDataURL(file);\n        }\n      }\n    \n    // 检查照片格式、大小等信息\n      handleBeforeUpload(file) {\n        if (file) {\n          const sizeOk = file.size < IMAGE_MAX_SIZE;\n          const typeReg = new RegExp(/^image\\/bmp|gif|jpg|jpeg|png$/, 'i');\n          const typeOk = typeReg.test(file.type);\n    \n          if (!typeOk) {\n            message.error('照片格式有误');\n          } else if (!sizeOk) {\n            message.error('照片大小超过1M');\n          }\n    \n          return sizeOk && typeOk;\n        }\n      }\n\n      handlePreview() {\n        this.setState({\n          showPreviewModal: true\n        });\n      }\n      \n      // 删除图片\n      swapImageFile() {\n        this.setState({ imageUrl: '' });\n      }\n}\n\n\n\n  export default Discussion;"]},"metadata":{},"sourceType":"module"}