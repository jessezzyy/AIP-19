{"ast":null,"code":"var _jsxFileName = \"/Users/Jesse/project/my-app/src/containers/Discussion.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Image } from 'semantic-ui-react';\nimport { Modal, Button } from 'react-bootstrap';\nimport 'semantic-ui-css/semantic.min.css';\nimport '../style/web.css';\n\nclass Discussion extends Component {\n  constructor(props) {\n    super(props); //this.isLogi = this.isLogin.bind(this);\n    // this.isLogin2 = this.isLogin2.bind(this);\n    //this.logout = this.logout.bind(this);\n    //this.changeContent = this.changeContent.bind(this);\n\n    this.state = {\n      username: '',\n      showPreviewModal: false,\n      showCropModal: false,\n      imgFile: '',\n      imgSrc: ''\n    };\n  }\n\n  render() {\n    const uploadButton = React.createElement(\"div\", {\n      className: \"upload-plus-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\\u7167\\u7247\"));\n    const imagePreview = React.createElement(\"div\", {\n      className: \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"preview-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"preview-image-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      title: \"\\u9884\\u89C8\\u56FE\\u7247\",\n      href: \"javascript:;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      type: \"eye\",\n      className: \"icon-btn\",\n      onClick: this.handlePreview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      title: \"\\u5220\\u9664\\u56FE\\u7247\",\n      href: \"javascript:;\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      type: \"delete\",\n      className: \"icon-btn\",\n      onClick: this.swapImageFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })))));\n    const showImage = React.createElement(\"div\", {\n      className: \"modal\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"modal-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Modal title\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: '50%',\n        height: '50%'\n      },\n      src: this.state.imgSrc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Save changes\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Close\")))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Home/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Home\"))), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Honorroll/\",\n      style: {\n        color: 'black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Honor roll\")))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      id: this.state.imgSrc ? '' : 'file',\n      accept: \"image/jpeg, image/gif, image/png, image/bmp\",\n      className: \"input-file\",\n      onChange: e => {\n        this.onFileChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"file\",\n      className: \"ant-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.imgSrc ? imagePreview : uploadButton)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: showPreviewModal,\n      title: \"\\u56FE\\u7247\\u9884\\u89C8\",\n      footer: null,\n      width: 700,\n      onCancel: this.handlePreviewCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      style: {\n        width: '100%'\n      },\n      src: imgSrc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }))));\n  }\n\n  onFileChange(e) {\n    const file = e.target.files[0];\n\n    if (this.handleBeforeUpload(file)) {\n      this.setState({\n        imgFile: file,\n        showCropModal: true\n      }, () => {\n        this.handlePreview();\n      });\n    }\n  } // 检查照片格式、大小等信息\n\n\n  handleBeforeUpload(file) {\n    const IMAGE_MAX_SIZE = 1024 * 1024; // 上传图片最大大小\n\n    if (file) {\n      const sizeOk = file.size < IMAGE_MAX_SIZE;\n      const typeReg = new RegExp(/^image\\/bmp|gif|jpg|jpeg|png$/, 'i');\n      const typeOk = typeReg.test(file.type);\n\n      if (!typeOk) {\n        console.log('照片格式有误');\n      } else if (!sizeOk) {\n        console.log('照片大小超过1M');\n      }\n\n      return sizeOk && typeOk;\n    }\n  }\n\n  handlePreview() {\n    const that = this;\n    const file = this.state.imgFile;\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = function (e) {\n      that.setState({\n        showPreviewModal: true,\n        imgSrc: this.result\n      });\n    };\n  } // 删除图片\n\n\n  swapImageFile() {\n    this.setState({\n      imageUrl: ''\n    });\n  }\n\n  uploadButton() {}\n\n}\n\nexport default Discussion;","map":{"version":3,"sources":["/Users/Jesse/project/my-app/src/containers/Discussion.js"],"names":["React","Component","Link","Menu","Image","Modal","Button","Discussion","constructor","props","state","username","showPreviewModal","showCropModal","imgFile","imgSrc","render","uploadButton","imagePreview","handlePreview","swapImageFile","showImage","width","height","color","e","onFileChange","handlePreviewCancel","file","target","files","handleBeforeUpload","setState","IMAGE_MAX_SIZE","sizeOk","size","typeReg","RegExp","typeOk","test","type","console","log","that","reader","FileReader","readAsDataURL","onload","result","imageUrl"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport {Menu, Image } from 'semantic-ui-react';\nimport { Modal, Button } from 'react-bootstrap';\nimport 'semantic-ui-css/semantic.min.css';\nimport '../style/web.css';\n\nclass Discussion extends Component{\n    constructor(props) {\n        super(props);\n        //this.isLogi = this.isLogin.bind(this);\n       // this.isLogin2 = this.isLogin2.bind(this);\n        //this.logout = this.logout.bind(this);\n       //this.changeContent = this.changeContent.bind(this);\n        this.state = { \n            username: '',\n            showPreviewModal: false,\n            showCropModal: false,\n            imgFile: '',\n            imgSrc: ''\n         };\n    }\n\n    \n    \n    render(){\n        const uploadButton = (\n            <div className=\"upload-plus-text\">\n              <i type=\"plus\" />\n              <div className=\"ant-upload-text\">上传照片</div>\n            </div>\n          );\n\n        const imagePreview = (\n            <div\n              className=\"modal\">\n             \n              <div className=\"preview-image\">\n                <span className=\"preview-image-btn\">\n                  <a title=\"预览图片\" href=\"javascript:;\">\n                    <i\n                      type=\"eye\"\n                      className=\"icon-btn\"\n                      onClick={this.handlePreview}\n                    />\n                  </a>\n                  <a title=\"删除图片\" href=\"javascript:;\">\n                    <i\n                      type=\"delete\"\n                      className=\"icon-btn\"\n                      onClick={this.swapImageFile}\n                    />\n                  </a>\n                </span>\n              </div>\n            </div>\n          );\n          const showImage = (\n            <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\">\n            <div className=\"modal-dialog\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\">Modal title</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n                <img style={{ width: '50%',  height: '50%' }} src={this.state.imgSrc} />\n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-primary\">Save changes</button>\n                  <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n          );\n\n        return (\n            <div>  \n            <Menu>\n            <Menu.Item>\n                <Link to=\"/Home/\" style={{color:'black'}}>\n                    <div>Home</div>\n                </Link>\n            </Menu.Item>\n            <Menu.Item>\n                <Link to=\"/Honorroll/\" style={{color:'black'}}>\n                    <div>Honor roll</div>\n                </Link>\n            </Menu.Item>\n            {/* <Menu.Item>\n                {this.changeContent()}\n            </Menu.Item> */}\n            </Menu>\n\n            \n    \n<div>\n    <input\n      type=\"file\"\n      id={this.state.imgSrc ? '' : 'file'}\n      accept=\"image/jpeg, image/gif, image/png, image/bmp\"\n      className=\"input-file\"\n      onChange={e => {\n        this.onFileChange(e);\n      }}\n    />\n    <label htmlFor=\"file\" className=\"ant-upload\">\n      {this.state.imgSrc ? imagePreview : uploadButton}\n    </label>\n</div>\n\n<div>\n<Modal\n  visible={showPreviewModal}\n  title=\"图片预览\"\n  footer={null}\n  width={700}\n  onCancel={this.handlePreviewCancel}>\n  <img alt=\"\" style={{ width: '100%' }} src={imgSrc} />\n</Modal>\n</div>\n                   \n        </div>\n    \n    \n        )\n      }\n    \n      onFileChange(e) {\n        const file = e.target.files[0];\n        if (this.handleBeforeUpload(file)) {\n        this.setState({ imgFile: file, showCropModal: true}, () => {\n            this.handlePreview();\n          });\n        }\n      }\n    \n    // 检查照片格式、大小等信息\n      handleBeforeUpload(file) {\n        const IMAGE_MAX_SIZE = 1024 * 1024; // 上传图片最大大小\n        if (file) {\n          const sizeOk = file.size < IMAGE_MAX_SIZE;\n          const typeReg = new RegExp(/^image\\/bmp|gif|jpg|jpeg|png$/, 'i');\n          const typeOk = typeReg.test(file.type);\n    \n          if (!typeOk) {\n           console.log('照片格式有误');\n          } else if (!sizeOk) {\n            console.log('照片大小超过1M');\n          }\n    \n          return sizeOk && typeOk;\n        }\n      }\n\n      handlePreview() {\n        const that = this;\n        const file = this.state.imgFile;\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function (e) {\n          that.setState({showPreviewModal: true, imgSrc: this.result })\n        }\n      }\n      \n      // 删除图片\n      swapImageFile() {\n        this.setState({ imageUrl: '' });\n      }\n      uploadButton(){\n        \n      }\n      \n}\n\n\n\n  export default Discussion;"]},"metadata":{},"sourceType":"module"}